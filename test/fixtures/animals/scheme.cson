name: 'animals'
collections:
  # Geese are not owned
  geese:
    singular: 'goose'
    fields:
      id:
        selector: true
        type: 'Integer'
      name:
        type: 'String'
        default: 'Bob'

  dogs:
    fields:
      id:
        selector: true
        type: 'Integer'
      boss_id:
        reference: true
    relations:
      belongs_to:
        boss: {}

  bosses:
    singular: 'boss'
    fields:
      id:
        selector: true
        type: 'Integer'
    relations:
      has_many:
        dogs: {}

  apples:
    fields:
      id:
        selector: true
        type: 'Integer'
      kind:
        type: 'String'
      stem:
        embedded_element: true
        collection: 'apple_stems'
      stem_id:
        type: 'Integer'
        only_send: true
        reference: true

    relations:
      belongs_to:
        stem:
          collection: 'apple_stems'

  apple_stems:
    fields:
      id:
        selector: true
        type: 'Integer'
      color:
        type: 'String'

    has_one:
      apple:
        field: 'stem_id'
